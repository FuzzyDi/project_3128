<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Project 3128 ‚Äî –ü–æ—Ä—Ç–∞–ª –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="/favicon.ico" />
  <link rel="stylesheet" href="/portal.css" />
</head>
<body>
  <div class="app-shell">
    <aside class="sidebar">
      <div class="brand">
        <div class="brand-logo">L</div>
        <div class="brand-meta">
          <div class="brand-title">Project 3128</div>
          <div class="brand-sub">Loyalty Demo Portal</div>
          <div class="env-pill">
            <span class="env-dot"></span>
            <span>DEMO / LOCAL</span>
          </div>
        </div>
      </div>

      <div class="sidebar-section-title">–ù–∞–≤–∏–≥–∞—Ü–∏—è</div>
      <div class="nav-group">
        <div class="nav-item active" data-page="dashboard">
          <div class="nav-icon">üìä</div>
          <div class="nav-label-main">–î–∞—à–±–æ—Ä–¥</div>
        </div>
        <div class="nav-item" data-page="clients">
          <div class="nav-icon">üë•</div>
          <div class="nav-label-main">–ö–ª–∏–µ–Ω—Ç—ã</div>
        </div>
        <div class="nav-item" data-page="transactions">
          <div class="nav-icon">üí≥</div>
          <div class="nav-label-main">–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</div>
        </div>
        <div class="nav-item" data-page="program">
          <div class="nav-icon">‚öôÔ∏è</div>
          <div class="nav-label-main">–ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã</div>
        </div>
        <div class="nav-item" data-page="integrations">
          <div class="nav-icon">üîó</div>
          <div class="nav-label-main">–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏</div>
        </div>
        <div class="nav-item" data-page="pos">
          <div class="nav-icon">üßæ</div>
          <div class="nav-label-main">POS Demo</div>
        </div>
        <div class="nav-item" data-page="docs">
          <div class="nav-icon">üìö</div>
          <div class="nav-label-main">API & Docs</div>
        </div>
      </div>

      <div class="sidebar-section-title">–ò–Ω—Ñ–æ</div>
      <div class="nav-group">
        <div class="nav-item" data-page="about">
          <div class="nav-icon">‚ÑπÔ∏è</div>
          <div class="nav-label-main">–û –¥–µ–º–æ</div>
        </div>
      </div>

      <div class="sidebar-footer">
        <div>–°–∏—Å—Ç–µ–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∏—Ç–µ–π–ª–∞ (demo).</div>
        <div>Repo: <a href="https://github.com/FuzzyDi/project_3128" target="_blank" rel="noopener noreferrer">GitHub / project_3128</a></div>
      </div>
    </aside>

    <main class="main">
      <header class="topbar">
        <div class="topbar-main">
          <div class="topbar-title">–î–∞—à–±–æ—Ä–¥ –º–µ—Ä—á–∞–Ω—Ç–∞ (demo)</div>
          <div class="topbar-sub">–û–±–æ—Ä–æ—Ç, –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –∏ —Å–ø–∏—Å–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤ ‚Äî –ø–æ–≤–µ—Ä—Ö API v1.</div>
        </div>
        <div class="topbar-actions">
          <div class="badge-soft">
            <span>API v1</span>
            <span style="width:6px;height:6px;border-radius:999px;background:#22c55e;"></span>
            <span>connected (demo)</span>
          </div>
          <button class="primary-button" id="refreshDashboard">
            <span class="icon">‚ü≥</span>
            <span>–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</span>
          </button>
        </div>
      </header>

      <section class="content">

        <!-- SECTION: DASHBOARD -->
        <section class="section active" data-section="dashboard">
          <div class="row">
            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-title">–û–±—â–∞—è –∫–∞—Ä—Ç–∏–Ω–∞</div>
                  <div class="card-sub">Demo-–º–µ—Ä—á–∞–Ω—Ç, –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π</div>
                </div>
                <div class="chip">
                  <span class="chip-dot success"></span>
                  <span>–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ –Ω–æ—Ä–º–µ</span>
                </div>
              </div>

              <div class="kpi-grid" id="kpiGrid">
                <div class="kpi-card">
                  <div class="kpi-bg-orbit"></div>
                  <div class="kpi-content">
                    <div class="kpi-label">–û–±–æ—Ä–æ—Ç –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º</div>
                    <div class="kpi-value" id="kpiTurnover">‚Äî</div>
                    <div class="kpi-meta">
                      <span id="kpiTurnoverTrend" class="kpi-trend-positive">‚Äî</span>
                    </div>
                  </div>
                </div>
                <div class="kpi-card">
                  <div class="kpi-bg-orbit"></div>
                  <div class="kpi-content">
                    <div class="kpi-label">–ù–∞—á–∏—Å–ª–µ–Ω–æ –±–∞–ª–ª–æ–≤</div>
                    <div class="kpi-value" id="kpiEarned">‚Äî</div>
                    <div class="kpi-meta">
                      <span id="kpiEarnedTrend" class="kpi-trend-positive">‚Äî</span>
                    </div>
                  </div>
                </div>
                <div class="kpi-card">
                  <div class="kpi-bg-orbit"></div>
                  <div class="kpi-content">
                    <div class="kpi-label">–°–ø–∏—Å–∞–Ω–æ –±–∞–ª–ª–æ–≤</div>
                    <div class="kpi-value" id="kpiRedeemed">‚Äî</div>
                    <div class="kpi-meta">
                      <span id="kpiRedeemedTrend" class="kpi-trend-negative">‚Äî</span>
                    </div>
                  </div>
                </div>
                <div class="kpi-card">
                  <div class="kpi-bg-orbit"></div>
                  <div class="kpi-content">
                    <div class="kpi-label">–ê–∫—Ç–∏–≤–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã</div>
                    <div class="kpi-value" id="kpiActiveClients">‚Äî</div>
                    <div class="kpi-meta">
                      <span id="kpiActiveClientsMeta">‚Äî</span>
                    </div>
                  </div>
                </div>
              </div>

              <div class="chart-placeholder" id="chartPlaceholder">
                <!-- –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞, –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π -->
              </div>
            </div>

            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-title">–°–≤–æ–¥–∫–∞ –ø–æ earn / redeem</div>
                  <div class="card-sub">–ò–º–∏—Ç–∞—Ü–∏—è –±—É–¥—É—â–∏—Ö API-–¥–∞–Ω–Ω—ã—Ö</div>
                </div>
                <div class="chip">
                  <span class="chip-dot warning"></span>
                  <span>Mock-—Ä–µ–∂–∏–º</span>
                </div>
              </div>

              <table class="table">
                <thead>
                  <tr>
                    <th>–ú–µ—Ç—Ä–∏–∫–∞</th>
                    <th>–ó–Ω–∞—á–µ–Ω–∏–µ (demo)</th>
                    <th>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>–°—Ä–µ–¥–Ω–∏–π % –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è</td>
                    <td>5%</td>
                    <td>–ù–∞–ø—Ä–∏–º–µ—Ä, 5% –æ—Ç —Å—É–º–º—ã —á–µ–∫–∞ ‚Üí –±–∞–ª–ª–∞–º–∏</td>
                  </tr>
                  <tr>
                    <td>–°—Ä–µ–¥–Ω–∏–π % —Å–ø–∏—Å–∞–Ω–∏—è</td>
                    <td>–¥–æ 20%</td>
                    <td>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∞–Ω—Ç–∏-—Ñ—Ä–æ–¥ (–Ω–∏–∂–µ —Å–º. –ø—Ä–∞–≤–∏–ª–∞)</td>
                  </tr>
                  <tr>
                    <td>–î–æ–ª—è —á–µ–∫–æ–≤ —Å –ª–æ—è–ª—å–Ω–æ—Å—Ç—å—é</td>
                    <td>~ 35%</td>
                    <td>–¶–µ–ª—å ‚Äî –ø–æ–¥–Ω—è—Ç—å –¥–æ 50‚Äì60%</td>
                  </tr>
                  <tr>
                    <td>–°–≥–æ—Ä–∞—é—â–∏–µ –±–∞–ª–ª—ã (30 –¥–Ω–µ–π)</td>
                    <td>12 300</td>
                    <td>–î—Ä–∞–π–≤–µ—Ä –¥–ª—è –∫–∞–º–ø–∞–Ω–∏–π ¬´–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ —Å–≥–æ—Ä–∞–Ω–∏–∏¬ª</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- –ù–û–í–´–ô –ë–õ–û–ö: –∫–∞—Ä—Ç–æ—á–∫–∞ –¥–µ–º–æ-–º–µ—Ä—á–∞–Ω—Ç–∞ -->
          <div class="row">
            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-title">–î–µ–º–æ-–º–µ—Ä—á–∞–Ω—Ç</div>
                  <div class="card-sub">–î–∞–Ω–Ω—ã–µ –∏–∑ /api/v1/merchant/dashboard</div>
                </div>
              </div>
              <div class="card-body">
                <div class="kv-row">
                  <div class="kv-label">–ù–∞–∑–≤–∞–Ω–∏–µ</div>
                  <div class="kv-value" id="merchantName">‚Äî</div>
                </div>
                <div class="kv-row">
                  <div class="kv-label">–ö–æ–¥ –º–µ—Ä—á–∞–Ω—Ç–∞</div>
                  <div class="kv-value" id="merchantCode">‚Äî</div>
                </div>
                <div class="kv-row">
                  <div class="kv-label">–°—Ç–∞—Ç—É—Å</div>
                  <div class="kv-value" id="merchantStatus">‚Äî</div>
                </div>
                <div class="kv-row">
                  <div class="kv-label">–°–æ–∑–¥–∞–Ω</div>
                  <div class="kv-value" id="merchantCreatedAt">‚Äî</div>
                </div>
                <div class="kv-row">
                  <div class="kv-label">API Key</div>
                  <div class="kv-value" id="merchantApiKey">‚Äî</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Dev-–ø–∞–Ω–µ–ª—å: —Å—ã—Ä–æ–µ —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ /merchant/dashboard -->
          <div class="row-full">
            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-title">Dashboard API payload</div>
                  <div class="card-sub">–°—ã—Ä–æ–µ JSON-—Ç–µ–ª–æ /api/v1/merchant/dashboard (read-only)</div>
                </div>
                <div class="chip">
                  <span class="chip-dot success"></span>
                  <span>–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ / –¥–µ–±–∞–≥–∞</span>
                </div>
              </div>
              <div style="font-size:13px;color:var(--text-soft);line-height:1.6;">
                <p>
                  –ù–∏–∂–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–π —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç
                  <code>/api/v1/merchant/dashboard</code>, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∏–∑ API v1 —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
                  <code>X-API-KEY</code>. –°—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç–≤–µ—Ç–∞ –∑–¥–µ—Å—å –Ω–µ –Ω–∞–≤—è–∑—ã–≤–∞–µ–º ‚Äî —ç—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                  —Ä–µ–∞–ª—å–Ω–æ–≥–æ JSON –∏–∑ backend.
                </p>
                <span class="toggle-link" id="toggleDashboardRaw">–°–∫—Ä—ã—Ç—å / –ø–æ–∫–∞–∑–∞—Ç—å JSON</span>
                <div class="raw-block" id="dashboardRawBlock">
                  <pre id="dashboardRawPayload">// –ø–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç –∏–ª–∏ –∑–∞–ø—Ä–æ—Å –µ—â—ë –Ω–µ –≤—ã–ø–æ–ª–Ω—è–ª—Å—è</pre>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- SECTION: CLIENTS -->
        <section class="section" data-section="clients">
          <div class="row-full">
            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-title">–ö–ª–∏–µ–Ω—Ç—ã</div>
                  <div class="card-sub">Demo-—Å–ø–∏—Å–æ–∫: –∫–∞–∫ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–∑ API</div>
                </div>
                <div class="chip">
                  <span class="chip-dot warning"></span>
                  <span>Mock-–¥–∞–Ω–Ω—ã–µ, API –ø–æ–∑–∂–µ</span>
                </div>
              </div>

              <table class="table">
                <thead>
                  <tr>
                    <th>ID –∫–ª–∏–µ–Ω—Ç–∞</th>
                    <th>–ò–º—è</th>
                    <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                    <th>–ë–∞–ª–∞–Ω—Å</th>
                    <th>–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</th>
                    <th>–°—Ç–∞—Ç—É—Å</th>
                  </tr>
                </thead>
                <tbody id="clientsTableBody">
                  <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è mock-–¥–∞–Ω–Ω—ã–º–∏ —Å–∫—Ä–∏–ø—Ç–æ–º -->
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- SECTION: TRANSACTIONS -->
        <section class="section" data-section="transactions">
          <div class="row-full">
            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-title">–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</div>
                  <div class="card-sub">Demo-–ø—Ä–æ—Å–º–æ—Ç—Ä purchase / points_redemption</div>
                </div>
                <div class="chip">
                  <span class="chip-dot warning"></span>
                  <span>–í –¥–∞–ª—å–Ω–µ–π—à–µ–º –ø—Ä–∏–≤—è–∂–µ–º –∫ API v1</span>
                </div>
              </div>

              <table class="table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>–¢–∏–ø</th>
                    <th>–°—É–º–º–∞</th>
                    <th>–ë–∞–ª–ª—ã ¬±</th>
                    <th>–ö–ª–∏–µ–Ω—Ç</th>
                    <th>–î–∞—Ç–∞</th>
                  </tr>
                </thead>
                <tbody id="transactionsTableBody">
                  <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è mock-–¥–∞–Ω–Ω—ã–º–∏ -->
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- SECTION: PROGRAM -->
        <section class="section" data-section="program">
          <div class="row-full">
            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-title">–ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</div>
                  <div class="card-sub">
                    –ù–∞—Å—Ç—Ä–æ–π–∫–∏ earn / redeem –¥–ª—è –º–µ—Ä—á–∞–Ω—Ç–∞ (—á–∏—Ç–∞—é—Ç—Å—è –∏–∑ API, –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å)
                  </div>
                </div>
                <div class="chip">
                  <span class="chip-dot success"></span>
                  <span>–î–∞–Ω–Ω—ã–µ: /api/v1/merchant/settings</span>
                </div>
              </div>

              <div class="card-body">
                <div class="grid-2">
                  <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: read-only —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ -->
                  <div>
                    <p class="text-soft" style="margin-bottom:8px;">
                      –¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –º–µ—Ä—á–∞–Ω—Ç–∞.
                    </p>
                    <table class="table">
                      <thead>
                        <tr>
                          <th>–ü–∞—Ä–∞–º–µ—Ç—Ä</th>
                          <th>–ó–Ω–∞—á–µ–Ω–∏–µ</th>
                          <th>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ</td>
                          <td id="cfgEarnRatePer1000">–Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ</td>
                          <td>–°–∫–æ–ª—å–∫–æ –±–∞–ª–ª–æ–≤ –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è –∑–∞ –∫–∞–∂–¥—É—é 1000 —Å—É–º.</td>
                        </tr>
                        <tr>
                          <td>–ú–∞–∫—Å. % —Å–ø–∏—Å–∞–Ω–∏—è</td>
                          <td id="cfgRedeemMaxPercent">–Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ</td>
                          <td>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ–ª–∏ —á–µ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–ø–ª–∞—á–µ–Ω–∞ –±–∞–ª–ª–∞–º–∏.</td>
                        </tr>
                        <tr>
                          <td>–ú–∏–Ω. —Å—É–º–º–∞ —á–µ–∫–∞ –¥–ª—è earn</td>
                          <td id="cfgMinReceiptAmountForEarn">–Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ</td>
                          <td>–ï—Å–ª–∏ —á–µ–∫ –º–µ–Ω—å—à–µ ‚Äî –±–∞–ª–ª—ã –Ω–µ –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è.</td>
                        </tr>
                        <tr>
                          <td>–ú–∏–Ω. —Å–ø–∏—Å–∞–Ω–∏–µ</td>
                          <td id="cfgRedeemMinPoints">–Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ</td>
                          <td>–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–ª–ª–æ–≤ –¥–ª—è —Å–ø–∏—Å–∞–Ω–∏—è.</td>
                        </tr>
                        <tr>
                          <td>–®–∞–≥ —Å–ø–∏—Å–∞–Ω–∏—è</td>
                          <td id="cfgRedeemStep">–Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ</td>
                          <td>–°—É–º–º–∞ —Å–ø–∏—Å–∞–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫—Ä–∞—Ç–Ω–∞ —ç—Ç–æ–º—É —à–∞–≥—É.</td>
                        </tr>
                        <tr>
                          <td>–ú–∞–∫—Å. –±–∞–ª–ª–æ–≤ –∑–∞ —á–µ–∫</td>
                          <td id="cfgMaxPointsPerReceipt">–Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ</td>
                          <td>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∞–Ω—Ç–∏-—Ñ—Ä–æ–¥ –ø–æ –æ–¥–Ω–æ–º—É —á–µ–∫—É.</td>
                        </tr>
                        <tr>
                          <td>–ú–∞–∫—Å. –±–∞–ª–ª–æ–≤ –≤ —Å—É—Ç–∫–∏</td>
                          <td id="cfgMaxPointsPerDay">–Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ</td>
                          <td>–ë—É–¥—É—â–∏–π –ª–∏–º–∏—Ç —Å–ø–∏—Å–∞–Ω–∏—è/–Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –≤ –¥–µ–Ω—å.</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>

                  <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: —Ñ–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
                  <div>
                    <p class="text-soft" style="margin-bottom:8px;">
                      –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Ä—á–∞–Ω—Ç–∞.
                      –ü—É—Å—Ç–æ–µ –ø–æ–ª–µ = ¬´–æ—á–∏—Å—Ç–∏—Ç—å / —Å–±—Ä–æ—Å–∏—Ç—å –≤ NULL¬ª.
                    </p>

                    <form id="programSettingsForm" class="form">
                      <div class="form-row">
                        <label for="inputEarnRatePer1000">–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ (–±–∞–ª–ª–æ–≤ –∑–∞ 1000 —Å—É–º)</label>
                        <input
                          id="inputEarnRatePer1000"
                          type="number"
                          min="0"
                          max="1000"
                          placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 10"
                        />
                      </div>

                      <div class="form-row">
                        <label for="inputRedeemMaxPercent">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π % —Å–ø–∏—Å–∞–Ω–∏—è</label>
                        <input
                          id="inputRedeemMaxPercent"
                          type="number"
                          min="0"
                          max="100"
                          placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 20"
                        />
                      </div>

                      <div class="form-row">
                        <label for="inputMinReceiptAmountForEarn">–ú–∏–Ω. —Å—É–º–º–∞ —á–µ–∫–∞ –¥–ª—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è</label>
                        <input
                          id="inputMinReceiptAmountForEarn"
                          type="number"
                          min="0"
                          step="1000"
                          placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 50000"
                        />
                      </div>

                      <div class="form-row">
                        <label for="inputRedeemMinPoints">–ú–∏–Ω. –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–ª–ª–æ–≤ –¥–ª—è —Å–ø–∏—Å–∞–Ω–∏—è</label>
                        <input
                          id="inputRedeemMinPoints"
                          type="number"
                          min="0"
                          placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 100"
                        />
                      </div>

                      <div class="form-row">
                        <label for="inputRedeemStep">–®–∞–≥ —Å–ø–∏—Å–∞–Ω–∏—è –±–∞–ª–ª–æ–≤</label>
                        <input
                          id="inputRedeemStep"
                          type="number"
                          min="1"
                          placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 50"
                        />
                      </div>

                      <div class="form-row">
                        <label for="inputMaxPointsPerReceipt">–ú–∞–∫—Å. –±–∞–ª–ª–æ–≤ –∑–∞ —á–µ–∫</label>
                        <input
                          id="inputMaxPointsPerReceipt"
                          type="number"
                          min="0"
                          placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 10000"
                        />
                      </div>

                      <div class="form-row">
                        <label for="inputMaxPointsPerDay">–ú–∞–∫—Å. –±–∞–ª–ª–æ–≤ –≤ —Å—É—Ç–∫–∏</label>
                        <input
                          id="inputMaxPointsPerDay"
                          type="number"
                          min="0"
                          placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 50000"
                        />
                      </div>

                      <div class="form-row" style="display:flex; gap:8px; align-items:center;">
                        <button id="programSettingsSaveBtn" type="submit" class="primary-button">
                          –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                        </button>
                        <button id="programSettingsResetBtn" type="button" class="secondary-button">
                          –°–±—Ä–æ—Å–∏—Ç—å (–ø–µ—Ä–µ—á–∏—Ç–∞—Ç—å –∏–∑ API)
                        </button>
                      </div>

                      <div
                        id="programSettingsStatus"
                        class="text-soft"
                        style="margin-top:6px; min-height:18px;"
                      >
                        <!-- —Å—é–¥–∞ –ø–∏—à–µ–º —Å—Ç–∞—Ç—É—Å—ã -->
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- SECTION: INTEGRATIONS -->
        <section class="section" data-section="integrations">
          <div class="row">
            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ 1: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–æ API -->
            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-title">–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–æ API</div>
                  <div class="card-sub">–ë–∞–∑–æ–≤—ã–π URL –∏ –∫–ª—é—á –¥–µ–º–æ-–º–µ—Ä—á–∞–Ω—Ç–∞</div>
                </div>
                <div class="chip">
                  <span class="chip-dot success"></span>
                  <span>–î–∞–Ω–Ω—ã–µ –±–µ—Ä—ë–º –∏–∑ /config.js</span>
                </div>
              </div>

              <div class="card-body" style="font-size:13px;color:var(--text-soft);line-height:1.6;">
                <p>
                  –í—Å–µ –≤–Ω–µ—à–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã (–∫–∞—Å—Å—ã, CRM, –≤–∏—Ç—Ä–∏–Ω—ã, –±–æ—Ç—ã) —Ö–æ–¥—è—Ç –≤ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ backend
                  Project 3128 –ø–æ REST API v1.
                </p>

                <p>
                  <strong>API base URL:</strong>
                  <span id="integrationsApiBase">‚Äî</span>
                </p>
                <p>
                  <strong>–ö–ª—é—á –º–µ—Ä—á–∞–Ω—Ç–∞ (X-API-KEY):</strong>
                  <span id="integrationsApiKey">‚Äî</span>
                </p>

                <p style="margin-top:8px;">–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –∫ –¥–∞—à–±–æ—Ä–¥—É –º–µ—Ä—á–∞–Ω—Ç–∞:</p>
                <pre><code id="integrationsCurlExample"># –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ apiBaseUrl –∏ X-API-KEY</code></pre>

                <p style="margin-top:8px;">
                  –¢–∏–ø–æ–≤–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
                </p>
                <ul>
                  <li>–∫–∞—Å—Å–∞/—Å–µ—Ä–≤–∏—Å –ø–µ—Ä–µ–¥–∞—ë—Ç <code>X-API-KEY</code> –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞;</li>
                  <li>–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤–æ–¥–∫–∏ –ø–æ –º–µ—Ä—á–∞–Ω—Ç—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
                    <code>GET /api/v1/merchant/dashboard</code>;</li>
                  <li>–æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —á–µ–∫–∞–º–∏ –∏–¥—É—Ç —á–µ—Ä–µ–∑
                    <code>POST /api/v1/integration/lookup</code> –∏
                    <code>POST /api/v1/integration/checkout</code>.</li>
                </ul>

                <p style="margin-top:8px;">
                  –î–µ—Ç–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç API –æ–ø–∏—Å–∞–Ω –≤ —Ñ–∞–π–ª–µ <code>docs/api_v1.md</code> –∏ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤
                  —Ä–∞–∑–¥–µ–ª–µ ¬´API & –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è¬ª —ç—Ç–æ–≥–æ –ø–æ—Ä—Ç–∞–ª–∞.
                </p>
              </div>
            </div>

            <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ 2: –ö–∞—Å—Å–∞ –∏ Telegram-–±–æ—Ç -->
            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-title">–ö–∞—Å—Å–∞ –∏ Telegram-–±–æ—Ç</div>
                  <div class="card-sub">–°—Ü–µ–Ω–∞—Ä–∏–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –¥–µ–º–æ-—Å—Ä–µ–¥—ã</div>
                </div>
                <div class="chip">
                  <span class="chip-dot warning"></span>
                  <span>–û–ø–∏—Å–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ + POS demo</span>
                </div>
              </div>

              <div class="card-body" style="font-size:13px;color:var(--text-soft);line-height:1.6;">
                <p>
                  –í –¥–µ–º–æ-—Å—Ä–µ–¥–µ –µ—Å—Ç—å –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è API: –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∫–∞—Å—Å–∞ –∏ Telegram-–±–æ—Ç.
                </p>

                <h4 style="margin:8px 0 4px;">1. –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∫–∞—Å—Å–∞ (POS Demo)</h4>
                <ul>
                  <li>UI –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ <code>/pos.html</code> (–∫–Ω–æ–ø–∫–∞ –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´POS Demo¬ª –ø–æ—Ä—Ç–∞–ª–∞);</li>
                  <li>–∫–∞—Å—Å–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç <code>lookup</code> –ø–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å—Å—ã–ª–∫–µ/–∫–æ–¥—É –∫–ª–∏–µ–Ω—Ç–∞;</li>
                  <li>–¥–∞–ª–µ–µ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å—É–º–º—É —Å–ø–∏—Å–∞–Ω–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç <code>checkout</code> –≤ API v1;</li>
                  <li>–≤—Å—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö —Ä–µ–∞–ª—å–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
                    <code>/api/v1/integration/lookup</code> –∏
                    <code>/api/v1/integration/checkout</code>.</li>
                </ul>

                <p style="margin-top:6px;">
                  –î–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∫–∞—Å—Å–∞ ‚Üî –ª–æ—è–ª—å–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –ø–æ—Ä—Ç–∞–ª,
                  –ø–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª ¬´POS Demo¬ª –∏ –æ—Ç—Ç—É–¥–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –∫–∞—Å—Å—É.
                </p>

                <h4 style="margin:12px 0 4px;">2. Telegram-–±–æ—Ç (demo)</h4>
                <p>
                  Telegram-–±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤—ã–¥–∞—á—É –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–¥–æ–≤/—Å—Å—ã–ª–æ–∫ –∫–ª–∏–µ–Ω—Ç—É –∏ –∑–∞–ø—Ä–æ—Å—ã –±–∞–ª–∞–Ω—Å–∞.
                  –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –µ—â—ë –æ–¥–∏–Ω HTTP-–∫–ª–∏–µ–Ω—Ç –∫ API v1:
                </p>
                <ul>
                  <li>–ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –±–∞–ª–∞–Ω—Å–∞/–∫–æ–¥–∞ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ backend –ø–æ REST API;</li>
                  <li>–º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ –∂–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, —á—Ç–æ –∏ –∫–∞—Å—Å–∞, –ª–∏–±–æ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–µ;</li>
                  <li>–¥–ª—è –ø—Ä–æ–¥-–æ–∫—Ä—É–∂–µ–Ω–∏—è —Å—é–¥–∞ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
                    <ul>
                      <li>URL –≤–µ–±—Ö—É–∫–∞ –¥–ª—è BotFather (webhook ‚Üí backend);</li>
                      <li>–æ–ø–∏—Å–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–∞–Ω–¥, –Ω–∞–ø—Ä–∏–º–µ—Ä <code>/start</code>, <code>/code</code>, <code>/balance</code>.</li>
                    </ul>
                  </li>
                </ul>

                <p style="margin-top:8px;">
                  –í –¥–∞–ª—å–Ω–µ–π—à–µ–º —ç—Ç–æ—Ç –±–ª–æ–∫ –º–æ–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç—å –∂–∏–≤—ã–º —Å—Ç–∞—Ç—É—Å–æ–º:
                  ¬´API / OK, BOT / OK, DB / OK¬ª –Ω–∞ –æ—Å–Ω–æ–≤–µ health-—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ backend –∏ –±–æ—Ç–∞.
                </p>
              </div>
            </div>
          </div>
        </section>

        <!-- SECTION: POS DEMO -->
		<section class="section" data-section="pos">
		  <div class="section-inner">
			<div class="section-header">
			  <div>
				<h2>–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∫–∞—Å—Å–∞</h2>
				<p>–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Å—Ç–µ–Ω–¥ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: lookup –ø–æ –∫–æ–¥—É –∫–ª–∏–µ–Ω—Ç–∞, —Ä–∞—Å—á—ë—Ç —Å–ø–∏—Å–∞–Ω–∏—è –∏ —Ä–µ–∞–ª—å–Ω—ã–π checkout —á–µ—Ä–µ–∑ API v1.</p>
			  </div>
			  <div class="section-actions">
				<a href="/pos.html" target="_blank" class="primary-button">
				  <span>–û—Ç–∫—Ä—ã—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –∫–∞—Å—Å—É</span>
				</a>
			  </div>
			</div>

			<div class="grid-2">
			  <div class="card">
				<div class="card-header">
				  <div class="card-title">–°—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</div>
				  <div class="card-sub">–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –∫–∞—Å—Å–æ–π</div>
				</div>
				<div class="card-body">
				  <ol class="steps-list">
					<li>–í–≤–µ—Å—Ç–∏ API Key –º–µ—Ä—á–∞–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, <code>sbg_demo_mc4c48c</code>).</li>
					<li>–í–≤–µ—Å—Ç–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞ (6 —Ü–∏—Ñ—Ä –∏–∑ Telegram /code).</li>
					<li>–ù–∞–∂–∞—Ç—å ¬´–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥¬ª ‚Äî —É–≤–∏–¥–µ—Ç—å –±–∞–ª–∞–Ω—Å –∏ –ø—Ä–∞–≤–∏–ª–∞.</li>
					<li>–ó–∞–ø–æ–ª–Ω–∏—Ç—å —Å—É–º–º—É —á–µ–∫–∞ –∏, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, ¬´–°–ø–∏—Å–∞—Ç—å –±–∞–ª–ª–æ–≤¬ª.</li>
					<li>–ù–∞–∂–∞—Ç—å ¬´–ó–∞–∫—Ä—ã—Ç—å —á–µ–∫¬ª ‚Äî –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π checkout —á–µ—Ä–µ–∑ API v1.</li>
				  </ol>
				</div>
			  </div>

			  <div class="card">
				<div class="card-header">
				  <div class="card-title">–ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø</div>
				  <div class="card-sub">–û—Ç–∫—Ä—ã—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ</div>
				</div>
				<div class="card-body">
				  <p class="text-soft">
					–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∫–∞—Å—Å–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —Å API —Å–µ—Ä–≤–∏—Å–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏.
				  </p>
				  <a href="/pos.html" target="_blank" class="secondary-button" style="margin-top:8px;">
					<span>–û—Ç–∫—Ä—ã—Ç—å /pos.html</span>
				  </a>
				</div>
			  </div>
			</div>
		  </div>
		</section>

        <!-- SECTION: DOCS -->
        <section class="section" data-section="docs">
          <div class="row-full">
            <div class="card">
              <div class="card-header">
                <div>
                  <div class="card-title">API & –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</div>
                  <div class="card-sub">–ö–æ–Ω—Ç—Ä–∞–∫—Ç API v1 –∏ —Ç–æ—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏</div>
                </div>
                <div class="chip">
                  <span class="chip-dot success"></span>
                  <span>–†–µ–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç ‚Äî docs/api_v1.md</span>
                </div>
              </div>
              <div class="card-body">
                <div class="grid-2">
                  <div>
                    <div class="card-sub" style="margin-bottom:8px;">–û—Å–Ω–æ–≤–Ω—ã–µ endpoints API v1</div>
                    <table class="table">
                      <thead>
                        <tr>
                          <th>–ú–µ—Ç–æ–¥</th>
                          <th>–ü—É—Ç—å</th>
                          <th>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td><code>GET</code></td>
                          <td><code>/api/v1/merchant/dashboard</code></td>
                          <td>–°–≤–æ–¥–∫–∞ –ø–æ –º–µ—Ä—á–∞–Ω—Ç—É: –æ–±–æ—Ä–æ—Ç, –±–∞–ª–ª—ã, –∫–ª–∏–µ–Ω—Ç—ã, –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.</td>
                        </tr>
                        <tr>
                          <td><code>POST</code></td>
                          <td><code>/api/v1/integration/lookup</code></td>
                          <td>–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –∫–ª–∏–µ–Ω—Ç–∞, –ø–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.</td>
                        </tr>
                        <tr>
                          <td><code>POST</code></td>
                          <td><code>/api/v1/integration/checkout</code></td>
                          <td>–ó–∞–∫—Ä—ã—Ç–∏–µ —á–µ–∫–∞: –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ/—Å–ø–∏—Å–∞–Ω–∏–µ –±–∞–ª–ª–æ–≤, —Ñ–∏–∫—Å–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>

                  <div>
                    <div class="card-sub" style="margin-bottom:8px;">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</div>
                    <p class="text-soft">
                      –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–µ–π –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤, —Å—Ç–∞—Ç—É—Å—ã –æ—à–∏–±–æ–∫ –∏ –ø—Ä–∏–º–µ—Ä—ã
                      –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∫–∞—Å—Å—ã –∏ –±–æ—Ç–∞ –æ–ø–∏—Å–∞–Ω—ã –≤ —Ñ–∞–π–ª–µ
                      <code>docs/api_v1.md</code> –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.
                    </p>
                    <div style="margin-top:8px; display:flex; gap:8px; flex-wrap:wrap;">
                      <a
                        href="https://github.com/FuzzyDi/project_3128/blob/main/docs/api_v1.md"
                        target="_blank"
                        class="secondary-button"
                      >
                        <span>–û—Ç–∫—Ä—ã—Ç—å API v1 –≤ GitHub</span>
                      </a>
                      <a
                        href="https://github.com/FuzzyDi/project_3128"
                        target="_blank"
                        class="ghost-button"
                      >
                        <span>–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Project 3128</span>
                      </a>
                    </div>
                  </div>
                </div>
              </div>

              <div class="docs-links">
				<hr class="divider" />

				<div class="card-sub" style="margin:8px 0 4px;">API-—Ç–µ—Å—Ç–µ—Ä (dev-only)</div>

				<div class="api-tester-form">
				  <div class="api-tester-row">
					<select id="apiTesterMethod">
					  <option value="GET">GET</option>
					  <option value="POST">POST</option>
					</select>
					<input
					  id="apiTesterPath"
					  placeholder="/api/v1/merchant/dashboard"
					/>
					<button class="secondary-button" id="apiTesterSendBtn" type="button">
					  <span>‚ñ∂</span>
					  <span>–í—ã–ø–æ–ª–Ω–∏—Ç—å</span>
					</button>
				  </div>

				  <div class="api-tester-body">
					<textarea
					  id="apiTesterBody"
					  placeholder='–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON), –¥–ª—è GET –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º'
					></textarea>
				  </div>

				  <div class="api-tester-result">
					<pre id="apiTesterResult">// —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø—Ä–æ—Å–∞ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å</pre>
				  </div>
				</div>
              </div>
            </div>
          </div>
        </section>

      <!-- SECTION: ABOUT -->
      <section class="section" data-section="about">
        <div class="row-full">
          <div class="card">
            <div class="card-header">
              <div>
                <div class="card-title">–û –¥–µ–º–æ-–ø—Ä–æ–µ–∫—Ç–µ</div>
                <div class="card-sub">Project 3128 ‚Äî —Å–µ—Ä–≤–∏—Å –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∏—Ç–µ–π–ª–∞</div>
              </div>
              <div class="chip">
                <span class="chip-dot success"></span>
                <span>Architect-first –ø–æ–¥—Ö–æ–¥</span>
              </div>
            </div>

            <div style="font-size:13px; color: var(--text-soft); line-height:1.6;">
              <p>
                –≠—Ç–æ—Ç –ø–æ—Ä—Ç–∞–ª ‚Äî ¬´–µ–¥–∏–Ω—ã–π –≤—Ö–æ–¥¬ª –≤ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏:
                <strong>–º–∞–≥–∞–∑–∏–Ω ‚Üî —Å–µ—Ä–≤–∏—Å –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ ‚Üî –∫–ª–∏–µ–Ω—Ç</strong>.
              </p>

              <p><strong>–¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:</strong></p>
              <ul>
                <li>Backend: Node.js (Express) + PostgreSQL, API v1 –≤ —Å—Ç–∏–ª–µ REST.</li>
                <li>Frontend-–ø–æ—Ä—Ç–∞–ª: –æ—Ç–¥–µ–ª—å–Ω—ã–π Node-—Å–µ—Ä–≤–µ—Ä, —Å—Ç–∞—Ç–∏–∫–∞ <code>/portal</code> + <code>/pos.html</code>.</li>
                <li>Telegram-–±–æ—Ç: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å —Å–µ—Ä–≤–∏—Å–æ–º (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–¥—ã, –±–∞–ª–∞–Ω—Å).</li>
                <li>–û–±–≤—è–∑–∫–∞: Docker Compose + nginx –∫–∞–∫ reverse proxy.</li>
              </ul>

              <p><strong>–ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –ø–æ—Ä—Ç–∞–ª–µ:</strong></p>
              <ul>
                <li>–î–∞—à–±–æ—Ä–¥ –º–µ—Ä—á–∞–Ω—Ç–∞ —Å –∂–∏–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ <code>/api/v1/merchant/dashboard</code>
                  (KPI, –≥—Ä–∞—Ñ–∏–∫ –æ–±–æ—Ä–æ—Ç–∞, –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏).</li>
                <li>–†–∞–∑–¥–µ–ª—ã ¬´–ö–ª–∏–µ–Ω—Ç—ã¬ª –∏ ¬´–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏¬ª –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ—Ö –∂–µ –¥–∞–Ω–Ω—ã—Ö dashboard.</li>
                <li>–ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏, —á–∏—Ç–∞–µ–º—ã–µ –∏–∑ –ø–æ–ª–µ–π –º–µ—Ä—á–∞–Ω—Ç–∞
                  (<code>earnRatePer1000</code>, <code>redeemMaxPercent</code> –∏ –¥—Ä.).</li>
                <li>–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –∫–∞—Å—Å–∞ <code>/pos.html</code> —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏
                  <code>lookup</code>/<code>checkout</code> —á–µ—Ä–µ–∑ API v1.</li>
                <li>–†–∞–∑–¥–µ–ª ¬´API & –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è¬ª —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ endpoint-–∞–º–∏ –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º API-—Ç–µ—Å—Ç–µ—Ä–æ–º.</li>
              </ul>

              <p><strong>–ü–ª–∞–Ω –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è:</strong></p>
              <ul>
                <li>–ú—É–ª—å—Ç–∏-–º–µ—Ä—á–∞–Ω—Ç –∏ —Ä–æ–ª–∏ (admin / merchant / operator) —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π.</li>
                <li>–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏: —Å–µ–≥–º–µ–Ω—Ç—ã –∫–ª–∏–µ–Ω—Ç–æ–≤, –∫–∞–º–ø–∞–Ω–∏–∏, expiry, –∞–Ω—Ç–∏-—Ñ—Ä–æ–¥.</li>
                <li>–û—Ç—á—ë—Ç–Ω–æ—Å—Ç—å –∏ –≤–∏—Ç—Ä–∏–Ω–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (LTV, retention, —á–∞—Å—Ç–æ—Ç–∞ –ø–æ–∫—É–ø–æ–∫, –∫–∞–Ω–∞–ª—ã –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è).</li>
                <li>–¢–µ—Ö—Ä–∞–∑–¥–µ–ª: health-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–µ—Ç—Ä–∏–∫–∏, –∞–ª–µ—Ä—Ç—ã.</li>
                <li>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∫–∞—Å—Å—ã –∏ Telegram-–±–æ—Ç–∞ (webhook-—Ñ–ª–æ—É, –ø—Ä–æ–º–æ-–∫–∞–º–ø–∞–Ω–∏–∏).</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      </section>
    </main>
  </div>

  <script src="/config.js"></script>
  <script src="/portal.js"></script>
      <script>
      (function () {
        const CONFIG = window.PROJECT_3128_CONFIG || {};
        const API_BASE = (CONFIG.apiBaseUrl || '').replace(/\/+$/, '');
        const API_KEY = CONFIG.merchantApiKey || '';

        const form = document.getElementById('programSettingsForm');
        if (!form) return; // —Ä–∞–∑–¥–µ–ª –Ω–µ –Ω–∞–π–¥–µ–Ω

        const statusEl = document.getElementById('programSettingsStatus');
        const saveBtn = document.getElementById('programSettingsSaveBtn');
        const resetBtn = document.getElementById('programSettingsResetBtn');

        const inputEarnRatePer1000 = document.getElementById('inputEarnRatePer1000');
        const inputRedeemMaxPercent = document.getElementById('inputRedeemMaxPercent');
        const inputMinReceiptAmountForEarn = document.getElementById('inputMinReceiptAmountForEarn');
        const inputRedeemMinPoints = document.getElementById('inputRedeemMinPoints');
        const inputRedeemStep = document.getElementById('inputRedeemStep');
        const inputMaxPointsPerReceipt = document.getElementById('inputMaxPointsPerReceipt');
        const inputMaxPointsPerDay = document.getElementById('inputMaxPointsPerDay');

        const cfgEarnRatePer1000 = document.getElementById('cfgEarnRatePer1000');
        const cfgRedeemMaxPercent = document.getElementById('cfgRedeemMaxPercent');
        const cfgMinReceiptAmountForEarn = document.getElementById('cfgMinReceiptAmountForEarn');
        const cfgRedeemMinPoints = document.getElementById('cfgRedeemMinPoints');
        const cfgRedeemStep = document.getElementById('cfgRedeemStep');
        const cfgMaxPointsPerReceipt = document.getElementById('cfgMaxPointsPerReceipt');
        const cfgMaxPointsPerDay = document.getElementById('cfgMaxPointsPerDay');

        function setStatus(msg) {
          if (statusEl) statusEl.textContent = msg || '';
        }

        function fmtNotSet() {
          return '–Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ';
        }

        function applyMerchantToUi(merchant) {
          if (!merchant) return;

          const m = merchant;

          // read-only —Ç–∞–±–ª–∏—Ü–∞
          if (cfgEarnRatePer1000) {
            if (m.earnRatePer1000 == null) {
              cfgEarnRatePer1000.textContent = fmtNotSet();
            } else {
              cfgEarnRatePer1000.textContent =
                m.earnRatePer1000 + ' –±–∞–ª–ª(–æ–≤) –∑–∞ 1 000 —Å—É–º';
            }
          }

          if (cfgRedeemMaxPercent) {
            cfgRedeemMaxPercent.textContent =
              m.redeemMaxPercent == null
                ? fmtNotSet()
                : m.redeemMaxPercent + ' %';
          }

          if (cfgMinReceiptAmountForEarn) {
            if (m.minReceiptAmountForEarn == null) {
              cfgMinReceiptAmountForEarn.textContent = fmtNotSet();
            } else {
              cfgMinReceiptAmountForEarn.textContent =
                Number(m.minReceiptAmountForEarn).toLocaleString('ru-RU') + ' —Å—É–º';
            }
          }

          if (cfgRedeemMinPoints) {
            cfgRedeemMinPoints.textContent =
              m.redeemMinPoints == null
                ? fmtNotSet()
                : m.redeemMinPoints + ' –±–∞–ª–ª–æ–≤';
          }

          if (cfgRedeemStep) {
            cfgRedeemStep.textContent =
              m.redeemStep == null
                ? fmtNotSet()
                : m.redeemStep + ' –±–∞–ª–ª–æ–≤';
          }

          if (cfgMaxPointsPerReceipt) {
            cfgMaxPointsPerReceipt.textContent =
              m.maxPointsPerReceipt == null
                ? fmtNotSet()
                : m.maxPointsPerReceipt + ' –±–∞–ª–ª–æ–≤';
          }

          if (cfgMaxPointsPerDay) {
            cfgMaxPointsPerDay.textContent =
              m.maxPointsPerDay == null
                ? fmtNotSet()
                : m.maxPointsPerDay + ' –±–∞–ª–ª–æ–≤ –≤ —Å—É—Ç–∫–∏';
          }

          // —Ñ–æ—Ä–º–∞
          function setInput(input, value) {
            if (!input) return;
            if (value == null) input.value = '';
            else input.value = String(value);
          }

          setInput(inputEarnRatePer1000, m.earnRatePer1000);
          setInput(inputRedeemMaxPercent, m.redeemMaxPercent);
          setInput(inputMinReceiptAmountForEarn, m.minReceiptAmountForEarn);
          setInput(inputRedeemMinPoints, m.redeemMinPoints);
          setInput(inputRedeemStep, m.redeemStep);
          setInput(inputMaxPointsPerReceipt, m.maxPointsPerReceipt);
          setInput(inputMaxPointsPerDay, m.maxPointsPerDay);
        }

        async function loadSettings() {
          if (!API_BASE || !API_KEY) {
            setStatus('API_BASE –∏–ª–∏ X-API-KEY –Ω–µ –∑–∞–¥–∞–Ω—ã (—Å–º. config.js)');
            return;
          }

          setStatus('–ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ /api/v1/merchant/settings ...');

          try {
            const res = await fetch(API_BASE + '/api/v1/merchant/settings', {
              method: 'GET',
              headers: {
                'Content-Type': 'application/json',
                'X-API-KEY': API_KEY,
              },
            });

            const data = await res.json().catch(() => ({}));

            if (!res.ok || data.status === 'ERROR') {
              setStatus(
                '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫: ' +
                  (data.message || res.status + ' ' + res.statusText),
              );
              return;
            }

            if (data.merchant) {
              applyMerchantToUi(data.merchant);
              setStatus('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã.');
            } else {
              setStatus('–û—Ç–≤–µ—Ç –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö –º–µ—Ä—á–∞–Ω—Ç–∞');
            }
          } catch (err) {
            console.error('[programSettings] load error:', err);
            setStatus('–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫: ' + String(err));
          }
        }

        function buildPayloadFromForm() {
          const payload = {};

          function readInt(input) {
            if (!input) return undefined;
            const raw = input.value.trim();
            if (raw === '') return null; // –æ—á–∏—Å—Ç–∏—Ç—å
            const n = parseInt(raw, 10);
            if (Number.isNaN(n)) {
              throw new Error(
                `–ù–µ–≤–∞–ª–∏–¥–Ω–æ–µ —á–∏—Å–ª–æ –≤ –ø–æ–ª–µ "${input.previousElementSibling?.textContent || input.id}"`,
              );
            }
            return n;
          }

          payload.earnRatePer1000 = readInt(inputEarnRatePer1000);
          payload.redeemMaxPercent = readInt(inputRedeemMaxPercent);
          payload.minReceiptAmountForEarn = readInt(inputMinReceiptAmountForEarn);
          payload.redeemMinPoints = readInt(inputRedeemMinPoints);
          payload.redeemStep = readInt(inputRedeemStep);
          payload.maxPointsPerReceipt = readInt(inputMaxPointsPerReceipt);
          payload.maxPointsPerDay = readInt(inputMaxPointsPerDay);

          return payload;
        }

        async function saveSettings() {
          if (!API_BASE || !API_KEY) {
            setStatus('API_BASE –∏–ª–∏ X-API-KEY –Ω–µ –∑–∞–¥–∞–Ω—ã (—Å–º. config.js)');
            return;
          }

          let payload;
          try {
            payload = buildPayloadFromForm();
          } catch (err) {
            setStatus(String(err.message || err));
            return;
          }

          setStatus('–°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ...');
          if (saveBtn) saveBtn.disabled = true;

          try {
            const res = await fetch(API_BASE + '/api/v1/merchant/settings', {
              method: 'PATCH',
              headers: {
                'Content-Type': 'application/json',
                'X-API-KEY': API_KEY,
              },
              body: JSON.stringify(payload),
            });

            const data = await res.json().catch(() => ({}));

            if (!res.ok || data.status === 'ERROR') {
              setStatus(
                '–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è: ' +
                  (data.message || res.status + ' ' + res.statusText),
              );
              return;
            }

            if (data.merchant) {
              applyMerchantToUi(data.merchant);
              setStatus('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã.');
            } else {
              setStatus('–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ, –Ω–æ –æ—Ç–≤–µ—Ç –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö –º–µ—Ä—á–∞–Ω—Ç–∞.');
            }
          } catch (err) {
            console.error('[programSettings] save error:', err);
            setStatus('–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞: ' + String(err));
          } finally {
            if (saveBtn) saveBtn.disabled = false;
          }
        }

        form.addEventListener('submit', function (e) {
          e.preventDefault();
          saveSettings();
        });

        if (resetBtn) {
          resetBtn.addEventListener('click', function (e) {
            e.preventDefault();
            loadSettings();
          });
        }

        // –ø–µ—Ä–≤–∏—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
        loadSettings();
      })();
    </script>

</body>
</html>
